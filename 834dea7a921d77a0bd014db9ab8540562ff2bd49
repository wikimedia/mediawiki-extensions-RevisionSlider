{
  "comments": [
    {
      "key": {
        "uuid": "4e96ab59_d5a2aea3",
        "filename": "tests/browser/features/autoexpand.feature",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 2626
      },
      "writtenOn": "2016-08-24T13:38:32Z",
      "side": 1,
      "message": "this is nasty, I admit. I\u0027ve only added it as mw.Api.saveOption call after clicking the button is asynchronous, so when the page is refreshed too fast the option is not saved yet, and tests might fail and be unreliable.\n\nI will be happy to change one-second sleep with something nicer, suggestions welcome!",
      "revId": "834dea7a921d77a0bd014db9ab8540562ff2bd49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e96ab59_306e8494",
        "filename": "tests/browser/features/autoexpand.feature",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1883
      },
      "writtenOn": "2016-08-29T10:28:39Z",
      "side": 1,
      "message": "Wikidata browsertest use something like \nhttps://github.com/wikimedia/wikidata-browsertests/blob/master/tests/browser/features/support/modules/entity_module.rb#L114\nto wait for ajax calls to finish. I think thats what your looking for.",
      "parentUuid": "4e96ab59_d5a2aea3",
      "revId": "834dea7a921d77a0bd014db9ab8540562ff2bd49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e96ab59_b0a514b4",
        "filename": "tests/browser/features/support/step_definitions/common_steps.rb",
        "patchSetId": 3
      },
      "lineNbr": 38,
      "author": {
        "id": 1883
      },
      "writtenOn": "2016-08-29T10:28:39Z",
      "side": 1,
      "message": "It might look strange but you could use\n\nexpect(on(DiffPage).revisionslider_auto_expand_button_element.when_visible).to be_visible\n\nhere. It basically does the same as the wait loop ( including a timeout )",
      "revId": "834dea7a921d77a0bd014db9ab8540562ff2bd49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e96ab59_f086bc17",
        "filename": "tests/browser/features/support/step_definitions/common_steps.rb",
        "patchSetId": 3
      },
      "lineNbr": 78,
      "author": {
        "id": 1883
      },
      "writtenOn": "2016-08-29T10:28:39Z",
      "side": 1,
      "message": "you could also use\n \non(DiffPage).revisionslider_auto_expand_button_element.when_visible.click\n\nhere. It will wait for the thing to be visible before trying to click it ( in that case the step before is unnecessary ).",
      "range": {
        "startLine": 78,
        "startChar": 4,
        "endLine": 78,
        "endChar": 5
      },
      "revId": "834dea7a921d77a0bd014db9ab8540562ff2bd49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}